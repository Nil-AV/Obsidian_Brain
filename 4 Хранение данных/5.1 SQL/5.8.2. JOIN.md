
# Виды JOIN
В SQL JOIN используется для объединения данных из двух или более таблиц на основе общего столбца. Существует несколько типов JOIN, которые различаются способом соединения и результатом:

**1. INNER JOIN:** Возвращает только строки, где есть совпадения в обоих таблицах.

```sql
SELECT * 
FROM Customers AS c
INNER JOIN Orders AS o
ON c.CustomerID = o.CustomerID;
```

**2. LEFT JOIN:** Возвращает все строки из левой таблицы и соответствующие строки из правой таблицы, если есть совпадения. Если совпадений нет, в правой таблице будут отображаться NULL-значения.

```sql
SELECT * 
FROM Customers AS c
LEFT JOIN Orders AS o
ON c.CustomerID = o.CustomerID;
```

**3. RIGHT JOIN:** Возвращает все строки из правой таблицы и соответствующие строки из левой таблицы, если есть совпадения. Если совпадений нет, в левой таблице будут отображаться NULL-значения.

```sql
SELECT * 
FROM Customers AS c
RIGHT JOIN Orders AS o
ON c.CustomerID = o.CustomerID;
```

**4. FULL JOIN:** Возвращает все строки из обеих таблиц, независимо от того, есть ли совпадения. Если совпадений нет, в соответствующих столбцах будут отображаться NULL-значения.

```sql
SELECT * 
FROM Customers AS c
FULL JOIN Orders AS o
ON c.CustomerID = o.CustomerID;
```

**5. CROSS JOIN:** Возвращает все возможные комбинации строк из обоих таблиц.

```sql
SELECT * 
FROM Customers AS c
CROSS JOIN Orders AS o;
```
# В СУБД

В SQL JOIN используется для объединения данных из двух или более таблиц. Существуют различные алгоритмы, используемые СУБД для выполнения JOIN, каждый из которых имеет свои преимущества и недостатки.

## 1. Hash Join:

- **Принцип:** Hash Join использует хэш-таблицы для быстрого поиска совпадающих строк.
- **Процесс:**
    - Сначала строятся хэш-таблицы для каждой таблицы, ключом является столбец, по которому выполняется JOIN.
    - Затем строки из одной таблицы проверяются на совпадение с строками в хэш-таблице другой таблицы.
- **Преимущества:**
    - Очень эффективный для больших таблиц.
    - Хорошо подходит для JOIN’ов с условиями, основанными на равенстве.
- **Недостатки:**
    - Требует много памяти.
    - Может быть не эффективен для неравных JOIN’ов.

## 2. Merge Join:

- **Принцип:** Merge Join сортирует строки в таблицах по ключу JOIN и потом объединяет их, как два отсортированных списка.
- **Процесс:**
    - Таблицы сортируются по ключу JOIN.
    - Сортированные строки сравниваются друг с другом, и найденные совпадения добавляются в результат.
- **Преимущества:**
    - Эффективен для сортированных данных.
    - Хорошо подходит для JOIN’ов с условиями, основанными на равенстве или неравенстве.
- **Недостатки:**
    - Требует дополнительного времени на сортировку данных.
    - Может быть не эффективен для больших таблиц, которые не могут быть отсортированы в памяти.

## 3. Nested Loop Join:

- **Принцип:** Nested Loop Join проходит по строкам одной таблицы (внешняя таблица) и для каждой строки проверяет все строки в другой таблице (внутренняя таблица).
- **Процесс:**
    - Внешняя таблица сканируется строка за строкой.
    - Для каждой строки внешней таблицы сканируется вся внутренняя таблица в поисках совпадений.
- **Преимущества:**
    - Простой в реализации.
- **Недостатки:**
    - Может быть очень медленным для больших таблиц.
    - Не эффективен для большинства случаев.

## Сводная таблица:

| Тип Join         | Описание                                                          | Преимущества                                                              | Недостатки                                                                      |
| ---------------- | ----------------------------------------------------------------- | ------------------------------------------------------------------------- | ------------------------------------------------------------------------------- |
| Hash Join        | Использует хэш-таблицы для быстрого поиска совпадающих строк      | Эффективен для больших таблиц, подходит для JOIN’ов с равенством          | Требует много памяти, не эффективен для неравных JOIN’ов                        |
| Merge Join       | Сортирует таблицы и сравнивает отсортированные строки             | Эффективен для сортированных данных, подходит для равенства и неравенства | Требует дополнительного времени на сортировку, не эффективен для больших таблиц |
| Nested Loop Join | Проходит по строкам одной таблицы и проверяет все строки в другой | Простой в реализации                                                      | Медленный для больших таблиц, неэффективен для большинства случаев              |

**Выбор типа JOIN:**

- Выбор типа JOIN зависит от размера таблиц, типа JOIN’ов и доступных ресурсов.
- СУБД обычно определяет оптимальный тип JOIN в зависимости от характеристик запроса.

**Масштабировать** можно и **базу данных**.

Выделяют три метода: 

- **Партиционирование** — разделение БД на части в рамках одного сервера. Может быть вертикальным (по столбцам) или горизонтальным (по строкам);
    

![Партиционирование БД](https://habrastorage.org/r/w1560/getpro/habr/upload_files/ccb/6e5/6d6/ccb6e56d6f757f66f402391aa5469a19.png "Партиционирование БД")


- **Шардирование** — разделение БД на части по разным серверам, может быть только горизонтальным (по строкам);
    

![Шардирование БД](https://habrastorage.org/r/w1560/getpro/habr/upload_files/cd1/6e2/c8d/cd16e2c8d2175c94006b8ead4e5e313f.png "Шардирование БД")


- **Репликация** — копирование одних и тех же данных между разными серверами. Создается дваэкземпляра БД — ведущий (Master) и ведомый (Slave). В нормальном режиме функционирования данные пишутся в Master, и реплицируются в Slave. В случае выхода из строя Master-ноды, взаимодействие будет моментально переключено на Slave до восстановления.
    

![Репликация БД](https://habrastorage.org/r/w1560/getpro/habr/upload_files/7cb/49e/1f9/7cb49e1f95722b7bb5d147d937822d98.png "Репликация БД")


### Кэширование

Отдельно необходимо сказать про кэш, как подход к масштабированию и возможность снизить нагрузку на базу данных.

Уровень кэша - это слой временного хранилища данных, который по своей скорости работы намного опережает БД. К преимуществам отдельного уровня кэша можно отнести улучшение производительности системы.

Один из популярных и самых распространённых подходов к кешированию - **сквозное чтение**. Получив запрос, сервер сначала проверяет наличие данных в кэше. Если данные есть, данные возвращаются клиенту. Если нет, то сервер обращается к базе данных, сохраняет ответ в кэше и пересылает его обратно клиенту.

При проектировании кэша помимо выбора подхода к кэшированию, необходимо помнить ещё о нескольких аспектах:

- Предпочтительное использование кэша — для чтения редко изменяемых, но часто запрашиваемых данных.
    
- Согласованность — периодическое обновление данных в кэше данными из БД.
    
- Выбор срока действия кэша. Рекомендуется реализовать механизм, ограничивающий срок действия кэша. Устаревшие данные должны немедленно удаляться.
    
- Выбор политики вытеснения — когда кэш полностью заполнен, любой запрос на добавление новых элементов может привести к удалению существующих. Самой популярной политикой считается вытеснение давно неиспользуемых данных (least‑recently‑used, LRU). Для разных ситуаций могут также подойти вытеснение наименее часто используемых данных (least-frequently-used, LFU) или метод «первым пришел, первым ушел» (FIFO, first-in-first-out).


# По Карлу Вигерсу

По Карлу Вигерсу существуют **три уровня требований**:

1. **Бизнес-требования**. Содержат высокоуровневые цели организации или заказчиков системы. 
2. **Пользовательские требования**. Описывают цели и задачи, которые система позволит пользователям решить. 
3. **Функциональные требования**. Определяют функциональность ПО, которую разработчики должны построить, чтобы пользователи смогли выполнить свои задачи в рамках бизнес-требований. 
4. **Нефункциональных требований системы**: 

- **Бизнес-правила**. Описывают корпоративные политики, правительственные постановления, промышленные стандарты и вычислительные алгоритмы. 
- **Атрибуты качества**. Представляют собой дополнительное описание функций продукта, выраженное через описание его характеристик, важных для пользователей или разработчиков.
- **Другие нефункциональные требования**. Описывают внешние взаимодействия между системой и внешним миром, а также ограничения дизайна и реализации.

# НФТ

**Примеры нефункциональных требований**:

## Производительность (П)
### Пропускная способность
Пропускная способность может измеряться в:
- Количестве обрабатываемых запросов в единицу времени или
- Количестве одновременно работающих пользователей
Пример требования к пропускной способности:

>**П-1. Система должна обслуживать одновременно не менее 1 тысячи пользователей.**

Это требование можно брать в работу, если сопроводить его допущением, что каждый пользователь производит в среднем не более 1 запроса в 20 секунд (3 запроса в минуту).
### Задержка

Задержка обычно измеряется средним временем исполнения запроса.

Пример прагматичного требования к задержке:

> **П-2. Система должна исполнять 95% запросов типа X в течение 3 секунд.**
### Объём данных
Кроме того, очень часто бывает важным оговорить не только и не столько количество запросов, но и объём данных, которые хранит или обрабатывает система.

> **П-3. Система должна сохранять показатели качества при работе с объёмами данных до 1000 видеофайлов записей вебинаров.**

## Масштабируемость (М)

### Принципиальная масштабируемость

Базовым требованием к масштабируемости является принципиальная масштабируемость:

> **М-1. Система должна позволять увеличение нагрузки (количества одновременно работающих пользователей, количества запросов в секунду, объёма хранимых и перерабатываемых данных) за рамками требований к Производительности с возможным ухудшением показателей (в частности, времени отклика и времени исполнения запросов).**

Это может показаться странным, но иногда встречаются программные архитектуры, которые принципиально не позволяют подключаться к системе большему, чем N, числу пользователей, что приводит к отказам в обслуживании для всех M > N пользователей.
### Характер масштабируемости

Дальнейшие требования к качеству масштабирования можно задавать либо через характер кривой времени отклика и времени обработки запросов в зависимости от нагрузки либо, более грубо, через стоимость увеличения производительности.

**Характер падения производительности**

> **М-2. Система должна демонстрировать уровень масштабируемости, при котором зависимость времени отклика системы от нагрузки носит характер не хуже, чем _(нужно выбрать только 1):  
> 1) логарифмический;  
> 2) степенной, где показатель степени < 1;  
> 3) линейный;  
> 4) степенной, где показатель степени > 1.**

### Стоимость масштабирования

Такой вариант описания масштабируемости более понятен представителям бизнеса, т.к. оперирует не математикой, а инвестициями.

Пример такого требования:

> **М-3. Система должна демонстрировать уровень масштабируемости, при котором стоимость увеличения производительности* системы в 2 (5 / 10 / 50 / 100) раз составляет не более, чем 100% от плановой годовой стоимости эксплуатации системы на момент её сдачи в эксплуатацию.**  
>   
> _* — под производительностью здесь понимается количество обрабатываемых запросов в единицу времени_


## Доступность (Д)
С точки зрения бизнеса, проще оперировать допустимым временем простоя, чем коэффициентом доступности, кроме того, бывает удобно задавать разные интервалы простоя для разных режимов работы системы — например, в рабочее время, в выходные дни, в ночные и т.д.

В таком случае заказчик сможет аргументированно принять взвешенное решение — например, стоит ли сокращение риска потери 33 тыс рублей в месяц разовых дополнительных инвестиций в размере 300 тысяч рублей на оптимизацию схемы развёртывания и 10 тыс рублей в месяц на аренду специализированного ПО.

> **Д-1. Система должна демонстрировать уровень доступности, при котором время простоя в работе системы не превышает 1 часа в сутки.**

Однако может быть такое, что час **непрерывного** простоя чреват не только потерей заказов, но и потерей лояльности существующих клиентов, поэтому бывает разумно дополнительно ограничить допустимый простой в час.

> **Д-2. Система должна демонстрировать уровень доступности, при котором время простоя в работе системы не превышает 5 минут в час.**

Обратите внимание, что требование, которое охватывает более длительный интервал наблюдения — сутки, не является простой суммой допустимого времени простоя за час — 24 * 5 = 120 минут, а более жёстко по характеру, это обычная практика, следующая принципу, что допустимые отклонения от нормы не должны становиться нормой и накапливаться при суммировании.

Таким образом можно дополнить и более длительным по интервалу наблюдения требованием:

> **Д-3. Система должна демонстрировать уровень доступности, при котором время простоя в работе системы не превышает 3 часов в неделю.**

Как будет выглядеть требование к надёжности, выраженное через коэффициент доступности, а не через время простоя. Например, посчитаем для одного часа — 5 минут простоя в час = 55 / 60 = ~92% времени доступности.

> **Д-4. Система должна демонстрировать уровень доступности с коэффициентом доступности не хуже, чем 92% в час.**


## Надежность (Н)

### Вероятность сбоя

В общем случае стоит предъявить как минимум требования к допустимости отказов произвольной, любой функции системы:

> **Н-1. Система должна демонстрировать уровень надёжности, при котором вероятность сбоя при обращении к её функциям не превышает 5%.**

В более сложных случаях можно поделить всё множество функций системы на несколько классов с разными ожиданиями по надёжности и предъявлять требования уже к ним или даже к надёжности отдельных функций:

> **Н-2. Система должна демонстрировать уровень надёжности, при котором вероятность сбоя при обращении к учётным* функциям не превышает 5%.**
> 
> _Дополнение: Под учётным функциями понимаются функции создания, обновления, удаления объектов учёта системы._

Обратите внимание, что если вы предъявляете требования к надёжности всех функций системы сразу и их отдельных классов, то требования к общей надёжности не должно быть строже, чем частные требования к классам функций или отдельным функциям.

> **Н-3. Система должна демонстрировать уровень надёжности, при котором вероятность сбоя при обращении к функции оплаты (Ф-47) не превышает 0,5%.**


## Профили качества

Можно условно выделить четыре уровня качества, на котором может находиться система по каждому из аспектов качества:
- 0 — низкий уровень, посредственное качество
- 1 — средний уровень, обычное, приемлемое качество
- 2 — высокий уровень, повышенное качество
- 3 — исключительный уровень, необычное, редкое качество



| Показатель /  <br>уровень качества                                                                     | 0                           | 1        | 2                        | 3                |
| ------------------------------------------------------------------------------------------------------ | --------------------------- | -------- | ------------------------ | ---------------- |
| **Пропускная способность:**                                                                            |                             |          |                          |                  |
| П-1.1 Максимальное количество одновременно работающих пользователей, не менее                          | 1                           | 30       | 300                      | 1000             |
| П-1.2 Количество обрабатываемых запросов в секунду, не менее                                           | -                           | 10       | 100                      | 1000             |
| **Задержка:**                                                                                          |                             |          |                          |                  |
| П-2.1 Время отклика системы в 80% случаев, не более, сек                                               | 10                          | 3        | 1                        | 0,1              |
| П-2.2 Исполнение 80% запросов за время, не более, сек                                                  | -                           | 5        | 3                        | 1                |
| M-1. Стоимость десятикратного увеличения мощности системы, % от стоимости годовой эксплуатации системы | -                           | ≤ 900    | ≤ 200                    | ≤ 100            |
| M-2. Характер зависимости времени отклика от количества запросов в секунду, не хуже чем                | Степенной парабола-образный | Линейный | Степенной корне-образный | Логарифми-ческий |
| Д-1.1. Допустимое время простоя в час, минут, не более                                                 | 10                          | 1        | 0,25                     | 0,02             |
| Д-1.2. Коэффициент доступности, в час, не менее, %                                                     | 83                          | 98       | 99,6                     | 99,97            |
| Д-2.1. Допустимое время простоя в сутки, минут, не более                                               | 180                         | 20       | 4                        | 0,25             |
| Д-2.2. Коэффициент доступности, в час, не менее, %                                                     | 88                          | 98,6     | 99,7                     | 99,98            |
| Д-3.1. Допустимое время простоя в месяц, часов, не более                                               | 50                          | 5        | 1                        | 0,1              |
| Д-3.2. Коэффициент доступности, в месяц, не менее, %                                                   | 93                          | 99,3     | 99,9                     | 99,99            |
| Н-1. Вероятность сбоя, % обращений                                                                     | -                           | ≤ 5      | ≤ 0,5                    | ≤ 0,05           |
| Н-2. Время восстановления после сбоя, минут                                                            | -                           | ≤ 5      | ≤ 0,5                    | ≤ 0,05           |
## Перечисление

- **Надежность:**

- **Безопасность:**
    - Конфиденциальность
    - Целостность
    - Доступность
- **Удобство использования:**
    - Пользовательский интерфейс (UI)
    - Доступность
    - Локализация
- **Технические ограничения:**
    - Платформа
    - Языки программирования
    - Технологии
- **Юридические требования:**
    - Соответствие законам
    - Политики конфиденциальности
- **Поддержка:**
- **Управление:**
- **Тестируемость:**
- **Совместимость:**
- **Переносимость:**
- **Взаимодействие:**
- **Устойчивость:**
- **Мониторинг:**
- **Логирование:**
- **Документирование:**



- **Производительность**. Система должна обрабатывать не менее 1000 запросов в секунду при пиковых нагрузках.
	-  **Доступность:** Время, в течение которого система доступна для пользователей (например, “99,9% uptime”).
	- **Устойчивость:** Способность системы выдерживать ошибки и сбои (например, обработка исключений, резервирование данных).
	- **Восстановление:** Способность системы восстанавливаться после сбоя (например, резервное копирование, автоматический перезапуск).
	- **Надежность**. Система должна обеспечивать доступность не менее 99,9% времени в течение года.
	
- **Безопасность**. Система должна использовать шифрование данных при передаче и хранении, а также обеспечивать защиту от несанкционированного доступа. 
	- **Конфиденциальность:** Защита данных от несанкционированного доступа (например, шифрование данных, аутентификация пользователей).
	- **Целостность:** Защита данных от несанкционированных изменений (например, контроль доступа, проверка целостности данных).
	- **Доступность:** Защита системы от несанкционированного доступа (например, брандмауэр, защита от DDoS-атак).

- **Удобство использования (UI)**. Интерфейс системы должен быть интуитивно понятным и доступным для пользователей с различным уровнем технической подготовки.
	- **Пользовательский интерфейс (UI):** Простота и удобство использования системы для пользователей (например, интуитивный дизайн, удобная навигация).
	- **Доступность:** Доступность системы для пользователей с ограниченными возможностями (например, использование контрастных цветов, альтернативные способы управления).
	- **Локализация:** Поддержка разных языков и региональных настроек (например, перевод интерфейса, адаптация формата дат и чисел).

- **Масштабируемость**. Система должна поддерживать возможность увеличения нагрузки без значительного снижения производительности.
- **Поддержка:** Обеспечение технической поддержки пользователям (например, документация, форум, служба поддержки).
- **Управление:** Возможность управления системой (например, мониторинг, обновление, резервное копирование).
- **Тестируемость:** Способность системы к тестированию (например, наличие тестовой среды, автотесты).